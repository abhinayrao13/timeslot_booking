<div id='calendar'></div>


<% content_for :javascript do %>
<script>
$(document).ready(function() {
  $('#calendar').fullCalendar({
    customButtons: {
      myCustomButton: {
        text: 'Create Event',
        click: function() {
          window.location = '<%= new_event_path %>';
        }
      }
    },
    header: {
      left: 'prev,next today',
      center: 'title',
      right: 'basicThreeMonths,month,basicWeek,basicDay, myCustomButton'
    },
    views: {
      basicThreeMonths: {
        type: 'basic',
        duration: { months: 3 },
        buttonText: '3 Months'
      }
    },
    editable: true,
    eventLimit: true, // allow "more" link when too many events
    events: <%= @events %>,
    dayClick: function(clickedDate) {
      window.location = "/events/new?click=" + clickedDate;
    }
  });
});
</script>
<% end %>
